"Tags","TestCase","Key Word","Argument 1","Argument 2"
,,"loadSahi","../pagemodels/Broker.sah"
,,"loadSahi","../pagemodels/Login.sah"
,,"loadSahi","../lib/CommonNameCreation.sah"
,,"loadSahi","../pagemodels/Agency.sah"
,,"loadSahi","../pagemodels/Signup.sah"
,,"loadSahi","../pagemodels/AdminStaff.sah"
,,"loadSahi","../pagemodels/BookOfBusiness.sah"
,,"loadSahi","../pagemodels/ENGSVC-1216_lib.sah"
,,"loadSahi","../scenariofiles/create_data/CreateAgency.sah"
,,"loadSahi","../scenariofiles/create_data/CreateAgent.sah"

,"[Global]","[SetUp]"
,,"maximizeWindow"
,,"$staffFirstNameLone =","""Stafftrfourqqq"""
,,"$staffFirstNameLtwo =","""Stafftrfourqqq"""
,,"$staffLastName =","""Staff"""
,,"$agentNameOne =","""Agenttrfourqqq"""
,,"$agencyNameSahi =","""Sahitransferfourqqq"""
,,"$numOfAgents =","3"
,,"$numOfAdminStaffL1 =","1"
,,"$numOfAdminStaffL2 =","1"
,,"$numOfConsumers =","0"

"all, AdminSwitchToCertifiedAgency","HIX-106119 Admin access to Agency Portal","[Documentation]","Verification of Admin has access to Agency Portal"
,,"[Documentation]","Creating the new agency"
,,"$agencyManagerInfo = createDefaultAgency"
,,"verifyAgencyInformationDB"
,,"setAgencyNameEqualToBusinessLegalNameInDB"
,,"[Documentation]","Broker admin change certification status from ""Pending"" to ""Certified"" for Agency manager"
,,"Login","brokeradmin@ghix.com","ghix123"
,,"$agencyManagerInfo=searchForAgencyManagerCertifyAgencyManager","Certified","$agencyManagerInfo"
,,"[Documentation]","Agent (object)","Agent number in list","Certification Info (object)"
,,"verifyIND35","$agencyManagerInfo","1","Agency Manager"
,,"[Documentation]","Broker admin change certification status from ""Pending"" to ""Certified"" for Agency"
,,"navigateToManageAgencies"
,,"searchForAgencyChangeAgencyCertificationStatus","Pending","Certified"
,,"verifyAgencyCertificationStatusDB","Certified"
,,"Logout"
,,"[Documentation]","1.Login as brokeradmin
2.Click on Agencies -> Manage Agencies
3.Click on Business Name
4.Click on 'View Agency Account' link and verify"
,,"$agencyName=getAgencyName"
,,"brokerAdminSwitchToAgency","$agencyName","""Certified""","""brokeradmin@ghix.com""","""ghix123""","""Y"""
,,"[Documentation]","Verifying Tabs and View Agent List"
,,"verifyAgencyPortalSubMenu","[""Agents"",""Admin Staff"",""Agency Delegations"",""Agency Account""]"
,,"verifyCertifiedAgencyViewAgentList","Broker Admin"
,,"verifyCertifiedAgencyAgentSubMenusEnabled"
,,"verifyCertifiedAgencyAgencyAccountSubMenusEnabled"
,,"verifyCertifiedAgencyAgencyDelegationsSubMenusEnabled"
,,"verifyCertifiedAgencyAdminStaffSubMenusEnabled"
,,"[Documentation]","Verifying Agents tab functionality"
,,"$agentObject=createNewAgent","1","Phone","Sacramento Location","Y","English","Health","www.google.com","""Graduate College Degree"""
,,"[Documentation]","First Name","License Number","Created By (email)","Certification Status","Status(Active/InActive)"
,,"verifyAgentInformationDB","$agentObject[0].firstName","$agentObject[0].licenseNumber","brokeradmin@ghix.com","Pending","Active"
,,"navigateToViewAgentList"
,,"refineAgentsForAgency","$agentObject[0].firstName","$agentObject[0].lastName"
,,"backToBrokerAdminAccountFromAgencyView"
,,"$agentObject[0]=brokerSearchForAgentCertifyAgent","""0""","Pending","Certified","$agentObject[0]"
,,"[Documentation]","First Name","License Number","Created By (email)","Certification Status","Status(Active/InActive)"
,,"verifyAgentInformationDB","$agentObject[0].firstName","$agentObject[0].licenseNumber","brokeradmin@ghix.com","Certified","Active"
,,"[Documentation]","Agent (object)","Agent number in list","Certification Info (object)"
,,"verifyIND35","$agentObject","1","Agent"
,,"verifyIND54","$agentObject","1","Agent"
,,"navigateToManageAgencies"
,,"brokerSearchForAgency","$agencyName","Certified"
,,"clickAgencyName","$agencyName"
,,"[Documentation]","Verifying Agency view popup does not show up"
,,"clickAndNavigateViewAgencyAccount"
,,"[Documentation]","Verifying Admin Staff tab"
,,"navigateToAddNewAdminStaff"
,,"verifyAdminStaffRegistration"
,,"$adminStaff=createNewAdminStaff","Email",,"Sacramento Location","1300 Terra Bella Ave","Mountain View","California","CA","94043"
,,"$adminStaff=verifyAdminStaffInformationDB","$adminStaff"
,,"verifyCountIND35","1","$adminStaff[0].firstName","$adminStaff[0].lastName"
,,"verifyIND35","$adminStaff","1","Admin Staff","Pending"
,,"navigateToViewAdminStaff"
,,"navigateToEditAdminStaff","$adminStaff"
,,"verifyAdminStaffInformationViewMode","$adminStaff","Agency Manager"
,,"verifyAdminStaffApprovalStatusViewMode","$adminStaff"
,,"verifyAdminStaffStatusViewMode","$adminStaff"
,,"backToBrokerAdminAccountFromAgencyView"

,,"$adminStaff=brokerSearchForAdminStaffApproveAdminStaff","1","Pending","Approved","$adminStaff"
,,"verifyAdminStaffInformationDB","$adminStaff"
,,"verifyCountIND35","2","$adminStaff[0].firstName","$adminStaff[0].lastName"
,,"verifyIND35","$adminStaff","1","Admin Staff","Approved"
,,"verifyIND54","$adminStaff","1","Admin Staff"

,,"navigateToManageAgencies"
,,"brokerSearchForAgency","$agencyName","Certified"
,,"clickAgencyName","$agencyName"
,,"clickAndNavigateViewAgencyAccount"

,,"[Documentation]","Verify Admin Staff in VIEW and EDIT mode"
,,"navigateToViewAdminStaff"
,,"navigateToEditAdminStaff","$adminStaff"
,,"[Documentation]","Object","First Name","Last Name","Personal email","Business email","Staff Level","Role","Edit all flag(Y/N)","Verification Flag(Y/N)"
,,"$adminStaff=editAdminStaffInformation","$adminStaff","$adminStaff[0].firstName+""edit""","$adminStaff[0].lastName+""edit""","""edit""+$adminStaff[0].personalEmail","""edit""+$adminStaff[0].businessEmail","Level2",,,"Y"
,,"verifyAdminStaffInformationViewMode","$adminStaff","Agency Manager"
,,"verifyAdminStaffInformationDB","$adminStaff"
,,"verifyCountIND35","1","$adminStaff[0].firstName","$adminStaff[0].lastName"
,,"verifyIND35","$adminStaff","1","Admin Staff","Approved"
,,"verifyAdminStaffApprovalStatusViewMode","$adminStaff"
,,"verifyAdminStaffStatusViewMode","$adminStaff"
,,"$adminStaff=editAdminStaffActiveStatus","$adminStaff","InActive","Changed by Sahi script"
,,"verifyAdminStaffInformationDB","$adminStaff"
,,"verifyCountIND35","1","$adminStaff[0].firstName","$adminStaff[0].lastName"



,,"[Documentation]","Verifying Agency information in edit mode"
,,"navigateToAgencyInformation"
,,"verifyViewingAgencyAccountOnBrokerAdminTab","$agencyName"
,,"$editInfo=verifyAndEditAgencyInformation","1231231233"
,,"verifyAgencyInformationEditMode","$editInfo"
,,"verifyAgencyInformationDB","$editInfo"
,,"[Documentation]","Verifying Location And Hours in edit mode"
,,"navigateToLocationAndHours"
,,"modifyPrimaryLocationAndHours"
,,"modifySubSiteLocationAndHours"
,,"[Documentation]","Verifying Document Upload in edit mode"
,,"navigateToDocumentUpload"
,,"verifyDocumentUploadEditMode"
,,"[Documentation]","Verifying Agency Certification Status"
,,"navigateToAgencyCertification"
,,"verifyAgencyCertificationViewMode"
,,"verifyAgencyCertificationStatusDB","""Certified"""
,,"Logout"

"all, AdminSwitchToCertifiedAgency,test","Broker Admin Switch To Certified Agency and transfer consumers","[Documentation]","> Go to Agency Delegations > Active consumers
> Search consumer with case Id
> From Action Gear, click on Change Delegation link
> Verify info in enrollment and enrollment_event table"
,,"$automationAgency = createAutomationAgencyIfNotExist","$agencyNameSahi","$numOfAgents","$numOfAdminStaffL1 ","$numOfAdminStaffL2","$staffFirstNameLone","$staffFirstNameLtwo","$agentNameOne","$numOfConsumers"

,,"brokerAdminSwitchToAgency","$automationAgency.businessName","""Certified""","""brokeradmin@ghix.com""","""ghix123""","""Y"""

,,"$agent = getAgentNameHavingMoreConsumers","$automationAgency.agents[2].name","$automationAgency.agents[1].name"
,,"goToActiveConsumers"
,,"searchConsumers","""AgentFirstName""","$agent"
,,"searchConsumers","""AgentLastName""","$agent"
,,"$caseId = clickChangeDelegationfromGearButton"
,,"$toAgent = searchAgentTotransferConsumers","$agent","$automationAgency.agents[1].name","$automationAgency.agents[2].name"
,,"reAssignAgentToTransferConsumer","$toAgent","1","$agent"
,,"verifydbAfterSingleConsumerTransfer","$caseId","$toAgent"

,,"[Documentation]","> Search an Agent who has more than 10 consumers
> Go to Agency Delegations > Active consumers
> Search the above agent
>Select all consumer and click on Change Delegation link(from Book of business block)"
,,"$agent = getAgentNameHavingMoreConsumers","$automationAgency.agents[2].name","$automationAgency.agents[1].name"
,,"goToActiveConsumers"
,,"searchConsumers","""AgentFirstName""","$agent"
,,"searchConsumers","""AgentLastName""","$agent"
,,"$caseId = clickChangeDelegationfromBookOfBusinessLinks"
,,"$forAgent = searchAgentTotransferConsumers","$agent","$automationAgency.agents[1].name","$automationAgency.agents[2].name"
,,"reAssignAgentToTransferConsumer","$forAgent","10","$agent"
,,"verifyDbAfterMultipleConsumerTransfer","$caseId","$forAgent"

,,"[Documentation]","> Search an Agent who has more than 10 consumers
> Click Gear button which is next to agent and bulk transfer consumers from the above agent.
> Verify Db"
,,"$agent = getAgentNameHavingMoreConsumers","$automationAgency.agents[2].name","$automationAgency.agents[1].name"
,,"$totalCount = clickTransferConsumerDelegations","$agent"
,,"$forAgent = searchAgentTotransferConsumers","$agent","$automationAgency.agents[1].name","$automationAgency.agents[2].name"
,,"reAssignAgentToTransferConsumer","$forAgent","$totalCount","$agent"
,,"verfifydbAfterBulkTransfer","$agent","$forAgent","$totalCount"
,,"Logout"

"all, AdminSwitchToCertifiedAgency","Broker Admin switch to Certified Agency and Verify Agency Delegations","[Documentation]","Broker Admin switch to Certified Agency and Verify Agency Delegations"
,,"brokerAdminSwitchToAgency","$automationAgency.businessName","""Certified""","""brokeradmin@ghix.com""","""ghix123""","""Y"""
,,"[Documentation]","Active Consumers Page"
,,"goToActiveConsumers"
,,"$consumer=getExternalIndividualFromDB"
,,"verifyActiveConsumersPage","Broker Admin"
,,"searchActiveConsumersByConsumerInfo",,,,"$consumer","Y","Broker Admin"
,,"verifyLinksPopupUnderGearIcon","$consumer.fullName"
,,"Logout"